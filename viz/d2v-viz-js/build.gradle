dependencies {
    expectedBy project(":viz:d2v-viz-common")
    compile project(":color:d2v-color-common")
    compile project(":color:d2v-color-js")
    compile project(":interpolate:d2v-interpolate-js")
    compile project(":path:d2v-path-common")
    compile project(":path:d2v-path-js")
    compile project(":timer:d2v-timer-common")
    compile project(":timer:d2v-timer-js")
}

task populateNodeModules(type: Copy, dependsOn: compileTestKotlin2Js) {

    from compileKotlin2Js.destinationDir

    configurations.testCompile.each {
        from zipTree(it.absolutePath).matching { include '*.js' }
    }

    into "${buildDir}/node_modules"
}

build.dependsOn populateNodeModules
